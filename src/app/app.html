<app-header [isDarkTheme]="isDarkTheme()" (themeToggle)="onThemeChange($event)"></app-header>
<div class="toolbox-container">
  <div class="toolbox">
    <h2>Text to JSON Array</h2>
    <form action="">
      <div>
        <label for="separator">Separate by</label>
        <input
          class="separator"
          name="separator"
          type="text"
          [(ngModel)]="separator"
          (ngModelChange)="debounceKeyword()"
          (blur)="convertString()"
        />
      </div>

      <div class="input-title">
        <label for="text-input">Input Text Below</label>
        <button type="button" class="clear-btn" (click)="clearKeywordInput()">Clear Input</button>
      </div>

      <input
        name="text-input"
        type="text"
        [(ngModel)]="inputKeywords"
        (ngModelChange)="debounceKeyword()"
        (blur)="convertString()"
        placeholder="example: milk, coffee, tea"
      />
      <div class="brackets-control">
        <label for="brackets-check">Add Brackets around Result</label>
        <input
          type="checkbox"
          name="brackets-check"
          [(ngModel)]="isBracketsAdded"
          (ngModelChange)="debounceKeyword()"
          (blur)="convertString()"
        />
      </div>
      <label for="text-output">Result:</label>
      <input
        name="text-output"
        type="text"
        readonly
        [(ngModel)]="outputKeywords"
        placeholder='example output: "["milk","coffee","tea"]"'
        (click)="selectOutput($event)"
      />
      <button
        type="button"
        (click)="copyToClipBoard(outputKeywords, keywordMessage)"
        [disabled]="!outputKeywords"
      >
        Copy Result
      </button>
      @if (keywordMessage()) {
        <p>{{ keywordMessage() }}</p>
      }
    </form>
  </div>
  <div class="toolbox">
    <h2>JSON Newlines Formatter</h2>
    <form action="">
      <div class="input-title">
        <label for="paragraph-input">Input Text Below</label>
        <button type="button" class="clear-btn" (click)="clearParagraphInput()">Clear Input</button>
      </div>

      <textarea
        name="paragraph-input"
        [(ngModel)]="inputParagraph"
        (ngModelChange)="debounceReplace()"
        (blur)="replaceString()"
        placeholder='example: It works on my "machine"&#10;&#9;Why isn&#39;t it working in prod?'
      ></textarea>
      <label for="paragraph-output">Result:</label>
      <textarea
        name="paragraph-output"
        readonly
        [(ngModel)]="outputParagraph"
        placeholder='example output: It works on my \"machine\"\n\tWhy isn&#39;t it working in prod?'
        (click)="selectOutput($event)"
      ></textarea>
      <button
        type="button"
        (click)="copyToClipBoard(outputParagraph, replaceMessage)"
        [disabled]="!outputParagraph"
      >
        Copy Result
      </button>
      @if (replaceMessage()) {
        <p>{{ replaceMessage() }}</p>
      }
    </form>
  </div>
</div>
<div class="description">
  <p>
    A simple tool for JSON formatting. Converts comma-separated text into JSON arrays and escapes
    special characters (quotes, newlines, backslashes) for copy-paste ready JSON strings.
  </p>
  <h3>Made With Angular 20</h3>
</div>
<app-footer></app-footer>
